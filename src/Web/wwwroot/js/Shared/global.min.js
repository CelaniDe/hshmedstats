function tabControl(){$('a.active[data-toggle="tab"]').length&&localStorage.setItem(window.location.pathname,$('a.active[data-toggle="tab"]')[0].hash)}function base64ToBlob(n,t="application/octet-stream"){const i=atob(n),r=i.length,u=new Uint8Array(r);for(let n=0;n<r;n++)u[n]=i.charCodeAt(n);return new Blob([u],{type:t})}function ConvertTableRows(n){var i=[],t;for(let r=0;r<n.length;r++){t={};for(let i=0;i<n[r].data.length;i++)t["column"+i]=n[r].data[i];i.push(t)}return i}function ConvertTableColumns(n){var i=[],t;for(let r=0;r<n.length;r++)t={},t.data="column"+r,t.title=n[r],i.push(t);return i}function stringToDate(n){const[t,i,r]=n.split("/");return new Date(r,i-1,t)}var AddAntiForgeryToken;$(".integer-input").keydown(function(n){var t=n.keyCode===69||n.keyCode===190?!0:!1;t&&n.preventDefault()});var getReturnUrl=()=>{let n=window.location.pathname;return window.location.search&&(n+=window.location.search),n},initializeTagsInput=n=>{$(n).tagsinput({tagClass:"label label-primary"}),$(".bootstrap-tagsinput input").keydown(function(n){if(n.which==13)return $(this).blur(),$(this).focus(),!1})},initDate=n=>{$(n).datetimepicker({autoclose:!0,pickDate:!1,pick12HourFormat:!1,minView:2,format:"dd/mm/yyyy",dateOnly:!0})},initYearDate=n=>{$(n).datetimepicker({autoclose:!0,dateOnly:!0,format:"yyyy",startView:"decade",minView:"decade",viewSelect:"decade"})},initYearMonthDate=()=>{$(".input-group.date").datetimepicker({autoclose:!0,dateOnly:!0,format:"mm/yyyy",startView:"year",minView:"year"})},range=(n,t)=>Array(t-n+1).fill().map((t,i)=>n+i),getDateString=n=>{var t=String(n.getDate()).padStart(2,"0"),i=String(n.getMonth()+1).padStart(2,"0"),r=n.getFullYear();return`${t}/${i}/${r}`},formatNumber=(n,t)=>new Intl.NumberFormat("en-US",{style:"currency",currency:n,maximumFractionDigits:0}).format(t),currencyFormat=(n,t,i)=>{let r=n===null?t===1?"EUR":"GBP":n===1?"GBP":"EUR";return formatNumber(r,i)},currencyFormatMultipleFields=(n,t,i,r)=>{let u;return u=t===null?n===null?i===1?"EUR":"GBP":n===1?"GBP":"EUR":i===1?"EUR":"GBP",formatNumber(u,r)},pcsEntityType=n=>n===null?"Both":n===1?"UK":"EU",colors=["rgb(255, 99, 132)","rgb(54, 162, 235)","rgb(153, 102, 255)","rgb(220, 190, 35)","rgb(56, 185, 16)","rgb(255, 159, 64)","rgb(255, 51, 255)","rgb(102, 255, 255)","rgb(0, 76, 153)","rgb(153, 76, 0)","rgb(169,169,169)",],transparentColor=n=>n.slice(0,n.indexOf(")"))+",0.2"+n.slice(n.indexOf(")")),parseLocaleNumber=n=>{let t=n.substr(1,n.length).replace(/[,.]/g,"");return parseInt(t)},loadTabControl=()=>{if(localStorage.getItem(window.location.pathname)){var t=$('ul.nav a[href="'+localStorage.getItem(window.location.pathname)+'"]');t.tab("show");t.first().trigger("shown.bs.tab");localStorage.removeItem(window.location.pathname)}$(".saveTabToStorage").click(n=>{tabControl(n.target.pathname)});let n=JSON.parse(localStorage.getItem("Search"));if(n&&n.location===window.location.pathname&&n.value){let t=$("a.active").closest(".tabs-container").find(`${n.tab} [class="dataTables_filter"] [type="search"]`);t.val(n.value);let i=$("a.active").closest(".tabs-container").find(`${n.tab}`).find(".table-responsive .dataTables_scrollBody table").DataTable();i.search(n.value).draw()}};AddAntiForgeryToken=function(n){return n.__RequestVerificationToken=$("input[name=__RequestVerificationToken]").val(),n};$("#side-menu a").click(()=>{JSON.parse(localStorage.getItem("Search"))&&localStorage.setItem("Search",null)});const isValidUrl=n=>{try{new URL(n)}catch(t){return!1}return!0};const NotificationType={Verification:0,SendMail:1,DealReceived:2,AssignAnalyst:3,StartWork:4,CheckSecuritiesConflictsRegister:5,FillExpectedMaturiryDate:6,AddWebsite:7,UploadDocuments:8,PortalFileReceived:9,MoveToDeadDeal:11,ExpiredExpectedMaturityDate:13,UpdateWebsite:16,AcknowledgeClosedDeal:17},DealStatus={NewApplication:0,AnalystAssignment:1,DealAllocatedToAnalyst:2,WorkStarted:3,InitialFeedbackProvided:4,ConfirmationOfClosingDate:5,Closed:6,RedeemedWaitingPayment:7,Redeemed:8,DeadNoFee:9,DeadUpfrontFee:10,DeadFullFee:11},InvoiceStatus={ForVerification:0,Verified:1,Sent:2,Unpaid:3,Paid:4,Replaced:5,Terminated:6},CreditNoteStatus={ForVerification:0,Verified:1,Sent:2},PcsRoles={Administrator:"Administrator",Outreach:"Outreach",HeadAnalyst:"Head Analyst",Analyst:"Analyst",Invoicing:"Invoicing",CFO:"CFO"},AutofillType={dealtype:0,contacts:1,pipelines:2},FinancingType={AbcpTransaction:0,Abcpprogram:1,nonAbcpTermSecurities:2,Loan:3,Other:4,NotApplicable:5,Mixed:6},ClientDealFilter={All:0,StsDeals:1};